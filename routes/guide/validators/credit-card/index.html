<svelte:head>
	<title>FormValidation â€¢ creditCard validator</title>
</svelte:head>

<Guide>
    <h1 class="f3 f2-m f1-l tc">creditCard validator</h1>
    <h2 class="f4 fw4 tc">Validate a credit card number</h2>

    <section class="mb4">
        <h2><span class="bb b--gray">Options</span></h2>

        <h3>Using with form field</h3>
        <p class="lh-copy i">The HTML attributes are used to set the validator options via the <a href="/guide/plugins/declarative/" class="blue dim link">Declarative</a> plugin</p>
        <table class="collapse ba br2 b--black-10 pv2 ph3 w-100">
            <tr class="striped--light-gray">
                <th class="pv2 ph3 tl f6 fw6 ttu">Name</th>
                <th class="pv2 ph3 tl f6 fw6 ttu">HTML attribute</th>
                <th class="pv2 ph3 tl f6 fw6 ttu">Type</th>
                <th class="pv2 ph3 tl f6 fw6 ttu">Description</th>
            </tr>
            <tr class="striped--light-gray">
                <td class="pv2 ph3"><code>message</code></td>
                <td class="pv2 ph3"><code>data-fv-credit-card___message</code></td>
                <td class="pv2 ph3">String</td>
                <td class="pv2 ph3">The error message</td>
            </tr>
        </table>
        <p class="lh-copy">Behind the scene, in addition to using the <a href="http://en.wikipedia.org/wiki/Luhn" class="blue dim link">Luhn algorithm</a>, the validator also validate the IIN ranges and length of credit card number.</p>
        <p class="lh-copy">It supports validating the following cards:</p>

        <table class="collapse ba br2 b--black-10 pv2 ph3 w-100">
            <tr class="striped--light-gray">
                <th class="pv2 ph3 tl f6 fw6 ttu">Type</th>
                <th class="pv2 ph3 tl f6 fw6 ttu">Sample</th>
                <th class="pv2 ph3 tl f6 fw6 ttu">Is it valid?</th>
            </tr>
            {#each Object.entries(samples) as [name, sample]}
            <tr class="striped--light-gray">
                <td class="pv2 ph3">{name}</td>
                <SampleData sample={sample} />
            </tr>
            {/each}
        </table>
        <Tip heading="Note">13 digits Visa credit cards are no longer used and it will be treated as an invalid card number</Tip>

        <h3>Using with JavaScript module</h3>
<SampleCode lang="javascript" code={`
// You might need to change the importing path
import creditCard from 'formvalidation/validators/creditCard';

const result = creditCard().validate({
    value: ...,
    options: {
        message: ...,
    },
});
/*
result is an object of
{
    valid: true or false,
    message: The error message,
    meta: {
        // The type of credit card
        // Can be null or one of AMERICAN_EXPRESS, DINERS_CLUB, DINERS_CLUB_US, DISCOVER, JCB, LASER,
        // MAESTRO, MASTERCARD, SOLO, UNIONPAY, VISA
        type: ...
    }
}
*/
`} />
    </section>

    <Tip>You can use <a href="http://www.getcreditcardnumbers.com" class="blue dim link">getcreditcardnumbers.com</a> to generate fake credit card numbers</Tip>

    <section class="mb4">
        <h2><span class="bb b--gray">Basic Example</span></h2>

        <Demo prefix="/guide/validators/credit-card/basic" frameworks={['Bootstrap', 'Tachyons']} />
    </section>

    <section class="mb4">
        <h2 class="lh-copy"><span class="bb b--gray">Example: Asking credit card number to match with selected type</span></h2>

        <p class="lh-copy">The following form asks to fill in the valid credit card number which matches the selected type.</p>
        <Demo prefix="/guide/validators/credit-card/limit-type" frameworks={['Tachyons']} />
    </section>

    <section class="mb4">
        <h2><span class="bb b--gray">Example: Showing card icon</span></h2>

        <p class="lh-copy">The following example shows credit card icon provided by <a href="http://fontawesome.io/icons/#payment" class="blue dim link">Font Awesome</a> based on the card type.</p>
        <table class="collapse ba br2 b--black-10 pv2 ph3 w-100">
            <tr class="striped--light-gray">
                <th class="pv2 ph3 tl f6 fw6 ttu">Card type</th>
                <th class="pv2 ph3 tl f6 fw6 ttu">Icon</th>
                <th class="pv2 ph3 tl f6 fw6 ttu">CSS class</th>
            </tr>
            <tr class="striped--light-gray">
                <td class="pv2 ph3">American Express</td>
                <td class="pv2 ph3"><i class="fa fa-cc-amex"></i></td>
                <td class="pv2 ph3"><code>fa fa-cc-amex</code></td>
            </tr>
            <tr class="striped--light-gray">
                <td class="pv2 ph3">Discover</td>
                <td class="pv2 ph3"><i class="fa fa-cc-discover"></i></td>
                <td class="pv2 ph3"><code>fa fa-cc-discover</code></td>
            </tr>
            <tr class="striped--light-gray">
                <td class="pv2 ph3">Visa</td>
                <td class="pv2 ph3"><i class="fa fa-cc-visa"></i></td>
                <td class="pv2 ph3"><code>fa fa-cc-visa</code></td>
            </tr>
            <tr class="striped--light-gray">
                <td class="pv2 ph3">Mastercard</td>
                <td class="pv2 ph3"><i class="fa fa-cc-mastercard"></i></td>
                <td class="pv2 ph3"><code>fa fa-cc-mastercard</code></td>
            </tr>
            <tr class="striped--light-gray">
                <td class="pv2 ph3">Other</td>
                <td class="pv2 ph3"><i class="fa fa-credit-card"></i></td>
                <td class="pv2 ph3"><code>fa fa-credit-card</code></td>
            </tr>
        </table>
        <Tip><a href="http://paymentfont.io/" class="blue dim link">PaymentFont</a> and <a href="http://www.orlandotm.com/payment-webfont/" class="blue dim link">Payment Webfont</a> provide more payment icons</Tip>

        <Demo prefix="/guide/validators/credit-card/icon" frameworks={['Tachyons']} />
    </section>

    <section class="mb4">
        <h2><span class="bb b--gray">Example: Accepting test credit card numbers</span></h2>

        <p class="lh-copy">Do you want some of fake, even invalid credit card numbers to be valid? For example, in the developing phase,
            you might want the creditCard validator to accept a few of particular card numbers.</p>
        <p class="lh-copy">Of course, you don't need to modify the source code of creditCard validator and add your own numbers there.
            FormValidation allows you to do it in a nice way via the <a href="/guide/plugins/transformer/" class="blue dim link">Transformer</a> plugin.</p>
        <p class="lh-copy">By using this option, we transform your test card numbers from an invalid to a valid one.</p>

        <Tip heading="Note">
            The <a href="/guide/plugins/transformer/" class="blue dim link">Transformer</a> plugin changes the card numbers for validation process only.
            When the form is submitted, you get the extract number that is initially provided by the user
        </Tip>

        <p class="lh-copy">Test (invalid) credit card numbers that you want it to be valid:</p>
        <ul class="ma0 pl3 lh-copy">
            <li>3333222233332222</li>
            <li>30030008444444</li>
        </ul>

        <Demo prefix="/guide/validators/credit-card/transformer" frameworks={['Tachyons']} />
    </section>

    <section class="mb4">
        <h2><span class="bb b--gray">Module Example</span></h2>

        <p class="lh-copy">The following snippet shows how to use the creditCard validator with JavaScript module:</p>
<SampleCode lang="javascript" code={`
// You might need to change the importing path
import creditCard from 'formvalidation/validators/creditCard';

const res1 = creditCard().validate({
    value: '340653705597107',
    options: {
        message: 'The credit card number is not valid',
    },
});
// res1.valid === true
// res1.meta.type === 'AMERICAN_EXPRESS'

const res2 = creditCard().validate({
    value: '5303765013600',
    options: {
        message: 'The credit card number is not valid',
    },
});
// res2.valid === false
// res2.meta.type === null
`} />
    </section>

    <RelatedValidators validators={['bic', 'iban', 'rtn']} />

    <section class="cf mb4">
        <div class="fl w-50 tl">
            <a href="/guide/validators/color/" class="b blue dim link pa2">&larr; color validator</a>
        </div>
        <div class="fl w-50 tr">
            <a href="/guide/validators/cusip/" class="b blue dim link pa2">cusip validator &rarr;</a>
        </div>
    </section>
</Guide>

<script>
export default {
    components: {
        Demo: '../../../../components/Demo.html',
        Guide: '../../../../components/Guide.html',
        RelatedValidators: '../../../../components/RelatedValidators.html',
        SampleCode: '../../../../components/SampleCode.html',
        SampleData: '../../../../components/SampleData.html',
        Tip: '../../../../components/Tip.html',
    },

    data() {
        return {
            samples: {
                'American Express': '340653705597107',
                'Dankort': '5019717010103742',
                'Diners Club': '30130708434187',
                'Diners Club (US)': '5517479515603901',
                'Discover': '6011734674929094',
                'Elo': '6362970000457013',
                'JCB': '3566002020360505',
                'Laser': '6304 9000 1774 0292 441',
                'Maestro': '6762835098779303',
                'Mastercard': '5303765013600904',
                'Solo': '6334580500000000',
                'Visa': '4929248980295542',
                'Visa Electron': '4917300800000000',
            }
        };
    },
};
</script>